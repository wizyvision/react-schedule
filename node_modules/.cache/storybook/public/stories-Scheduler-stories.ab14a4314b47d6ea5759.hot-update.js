"use strict";
self["webpackHotUpdate_wizyvision_react_schedule"]("stories-Scheduler-stories",{

/***/ "./src/lib/components/Calendar/UserTimeSlot.js":
/*!*****************************************************!*\
  !*** ./src/lib/components/Calendar/UserTimeSlot.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_getAppointmentStyle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/getAppointmentStyle */ "./src/lib/utils/getAppointmentStyle.js");
/* harmony import */ var _context_SchedulerProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../context/SchedulerProvider */ "./src/lib/context/SchedulerProvider.js");
/* harmony import */ var _container_Slot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../container/Slot */ "./src/lib/container/Slot/index.js");

// import { useDrop } from 'react-dnd';




function UserTimeSlot(props) {
    var user = props.user, timeSlot = props.timeSlot, key = props.key, index = props.index;
    var _useSchedulerContext = (0,_context_SchedulerProvider__WEBPACK_IMPORTED_MODULE_3__.useSchedulerContext)(), appointmentList = _useSchedulerContext.appointmentList, onAppointmentChange = _useSchedulerContext.onAppointmentChange, duration = _useSchedulerContext.duration, date = _useSchedulerContext.date, SlotProps = _useSchedulerContext.SlotProps;
    var _ref = SlotProps || {}, _ref_secondaryDuration = _ref.secondaryDuration, secondaryDuration = _ref_secondaryDuration === void 0 ? 30 : _ref_secondaryDuration;
    //   const [{ isOver, canDrop }, drop] = useDrop({
    //     accept: 'APPOINTMENT',
    //     drop: (appointment, monitor) => {
    //       const droppedAppointment = appointment.appointment;
    //       const updatedAppointments = getUpdatedAppointments(
    //         appointmentList,
    //         droppedAppointment,
    //         date,
    //         timeSlot,
    //         duration,
    //         user
    //       );
    //       onAppointmentChange(updatedAppointments);
    //     },
    //     collect: (monitor) => ({
    //       isOver: monitor.isOver(),
    //       canDrop: monitor.canDrop(),
    //     }),
    //   });
    var sortedAppointments = getSortedAppointments(appointmentList, user);
    var concurrentAppointments = {};
    var previousConcurrentCount = 0;
    sortedAppointments.forEach(function(event, index) {
        var startDate = moment__WEBPACK_IMPORTED_MODULE_1___default()(event.schedule.startDate);
        var count = sortedAppointments.reduce(function(acc, otherEvent, otherIndex) {
            if (index !== otherIndex && moment__WEBPACK_IMPORTED_MODULE_1___default()(otherEvent.schedule.startDate).isBefore(startDate) && moment__WEBPACK_IMPORTED_MODULE_1___default()(otherEvent.schedule.endDate).isAfter(startDate)) {
                return acc + 1;
            }
            return acc;
        }, 0);
        concurrentAppointments[event.id] = count > 0 ? count + previousConcurrentCount : 0;
        // Update previousConcurrentCount for the next event
        previousConcurrentCount = count > 0 ? concurrentAppointments[event.id] : 0;
    });
    var filteredAppointments = filterAppointments(appointmentList, user, timeSlot, date, secondaryDuration, concurrentAppointments);
    var width = (0,_utils_getAppointmentStyle__WEBPACK_IMPORTED_MODULE_2__.getSlotWidth)(secondaryDuration);
    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_container_Slot__WEBPACK_IMPORTED_MODULE_4__["default"], {
        key: key,
        colSpan: 1,
        //   ref={drop}
        index: index
    });
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserTimeSlot);
UserTimeSlot.__docgenInfo = {
    "description": "",
    "methods": [],
    "displayName": "UserTimeSlot"
};


/***/ }),

/***/ "./src/lib/components/Calendar/index.js":
/*!**********************************************!*\
  !*** ./src/lib/components/Calendar/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Paper/Paper.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/Table/Table.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/TableHead/TableHead.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/TableRow/TableRow.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/TableBody/TableBody.js");
/* harmony import */ var _context_SchedulerProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../context/SchedulerProvider */ "./src/lib/context/SchedulerProvider.js");
/* harmony import */ var _utils_generateTimeSlot__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/generateTimeSlot */ "./src/lib/utils/generateTimeSlot.js");
/* harmony import */ var _container_Calendar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../container/Calendar */ "./src/lib/container/Calendar/index.js");
/* harmony import */ var _UserTimeSlot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UserTimeSlot */ "./src/lib/components/Calendar/UserTimeSlot.js");






function Calendar() {
    var _useSchedulerContext = (0,_context_SchedulerProvider__WEBPACK_IMPORTED_MODULE_1__.useSchedulerContext)(), date = _useSchedulerContext.date, users = _useSchedulerContext.users, SlotProps = _useSchedulerContext.SlotProps;
    console.log(SlotProps);
    console.log(date);
    var _ref = SlotProps || {}, _ref_primaryDuration = _ref.primaryDuration, primaryDuration = _ref_primaryDuration === void 0 ? 60 : _ref_primaryDuration, secondaryDuration = _ref.secondaryDuration, colSpan = _ref.colSpan;
    var timeSlotsHead = (0,_utils_generateTimeSlot__WEBPACK_IMPORTED_MODULE_2__.generateTimeSlotsForShift)(date, primaryDuration);
    var timeSlotsBody = (0,_utils_generateTimeSlot__WEBPACK_IMPORTED_MODULE_2__.generateTimeSlotsForShift)(date, secondaryDuration);
    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_container_Calendar__WEBPACK_IMPORTED_MODULE_3__.CalendarContainer, {
        component: _mui_material__WEBPACK_IMPORTED_MODULE_5__["default"]
    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_6__["default"], {
        stickyHeader: true
    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_7__["default"], null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_8__["default"], null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_container_Calendar__WEBPACK_IMPORTED_MODULE_3__.Resources, null, "User"), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_container_Calendar__WEBPACK_IMPORTED_MODULE_3__.Divider, null), timeSlotsHead.map(function(slot) {
        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_container_Calendar__WEBPACK_IMPORTED_MODULE_3__.Slots, {
            key: slot,
            colSpan: colSpan
        }, slot);
    }))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_9__["default"], null, users.map(function(user) {
        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_mui_material__WEBPACK_IMPORTED_MODULE_8__["default"], {
            key: user.name
        }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_container_Calendar__WEBPACK_IMPORTED_MODULE_3__.Resources, {
            align: "left"
        }, user.name), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_container_Calendar__WEBPACK_IMPORTED_MODULE_3__.Divider, {
            align: "left"
        }), timeSlotsBody.map(function(slot, index) {
            return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_UserTimeSlot__WEBPACK_IMPORTED_MODULE_4__["default"], {
                key: "".concat(user.name, "-").concat(slot),
                index: index,
                user: user,
                timeSlot: slot
            });
        }));
    }))));
}
var useStyles = function() {
    return {
        table: {
            width: 900,
            overflowX: "auto"
        }
    };
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Calendar);
Calendar.__docgenInfo = {
    "description": "",
    "methods": [],
    "displayName": "Calendar"
};


/***/ }),

/***/ "./src/lib/constants/appointment.js":
/*!******************************************!*\
  !*** ./src/lib/constants/appointment.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HEIGHT: () => (/* binding */ HEIGHT),
/* harmony export */   HEIGHT_REDUCTION_CONCURRENT: () => (/* binding */ HEIGHT_REDUCTION_CONCURRENT),
/* harmony export */   MIN_HEIGHT: () => (/* binding */ MIN_HEIGHT),
/* harmony export */   WIDTH: () => (/* binding */ WIDTH)
/* harmony export */ });
var WIDTH = 100;
var HEIGHT = 65;
var MIN_HEIGHT = 35;
var HEIGHT_REDUCTION_CONCURRENT = 5;



/***/ }),

/***/ "./src/lib/container/Slot/index.js":
/*!*****************************************!*\
  !*** ./src/lib/container/Slot/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/TableCell/TableCell.js");
/* harmony import */ var _mui_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mui/material */ "./node_modules/@mui/material/styles/useTheme.js");
/* harmony import */ var _constants_appointment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../constants/appointment */ "./src/lib/constants/appointment.js");
/* harmony import */ var _utils_getAppointmentStyle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/getAppointmentStyle */ "./src/lib/utils/getAppointmentStyle.js");
/* harmony import */ var _context_SchedulerProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../context/SchedulerProvider */ "./src/lib/context/SchedulerProvider.js");
/* harmony import */ var _mui_system__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mui/system */ "./node_modules/@mui/system/esm/styled.js");
function _define_property(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
        });
    } else {
        obj[key] = value;
    }
    return obj;
}
function _object_spread(target) {
    for(var i = 1; i < arguments.length; i++){
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
                return Object.getOwnPropertyDescriptor(source, sym).enumerable;
            }));
        }
        ownKeys.forEach(function(key) {
            _define_property(target, key, source[key]);
        });
    }
    return target;
}





var Slot = (0,_mui_system__WEBPACK_IMPORTED_MODULE_2__["default"])(_mui_material__WEBPACK_IMPORTED_MODULE_3__["default"])(function(props) {
    var _useSchedulerContext = (0,_context_SchedulerProvider__WEBPACK_IMPORTED_MODULE_1__.useSchedulerContext)(), _useSchedulerContext_color = _useSchedulerContext.color, color = _useSchedulerContext_color === void 0 ? "primary" : _useSchedulerContext_color, SlotProps = _useSchedulerContext.SlotProps;
    var index = props.index, canDrop = props.canDrop, isOver = props.isOver, width = props.width;
    var _ref = SlotProps || {}, _ref_secondaryDuration = _ref.secondaryDuration, secondaryDuration = _ref_secondaryDuration === void 0 ? 30 : _ref_secondaryDuration, style = _ref.style, slotBackground = _ref.slotBackground;
    var theme = (0,_mui_material__WEBPACK_IMPORTED_MODULE_4__["default"])();
    var bg = (0,_utils_getAppointmentStyle__WEBPACK_IMPORTED_MODULE_0__.slotBg)(canDrop, isOver, slotBackground, theme, color);
    // const borderRightColor = () => {
    //   let color = theme.palette.borderRightColor.light
    //   switch (secondaryDuration) {
    //     case 15:
    //       color = index % 4 !== 3 ? 
    //       theme.palette.borderRightColor.light
    //       : theme.palette.borderRightColor.main; 
    //       break;
    //     default:
    //       color = index % 2 !== 1 ? 
    //       theme.palette.borderRightColor.light
    //       : theme.palette.borderRightColor.main; 
    //       break;
    //   }
    //   return color;
    // };
    // const borderRightStyle = () => {
    //   switch (secondaryDuration) {
    //     case 15:
    //       if (index % 2 !== 1) {
    //         return 'none';
    //       }
    //       return 'solid';
    //     default:
    //       return 'solid';
    //   }
    // };
    return _object_spread({
        paddingTop: theme.spacing(1),
        paddingBottom: theme.spacing(1),
        paddingLeft: 0,
        paddingRight: 0,
        position: "relative",
        backgroundColor: bg,
        width: width,
        height: _constants_appointment__WEBPACK_IMPORTED_MODULE_5__.HEIGHT,
        overflow: "visible",
        verticalAlign: "top",
        borderRightWidth: "1px",
        borderRightStyle: "solid",
        borderRightColor: theme.palette.borderRightColor.light
    }, style);
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Slot);


/***/ }),

/***/ "./src/lib/utils/getAppointmentStyle.js":
/*!**********************************************!*\
  !*** ./src/lib/utils/getAppointmentStyle.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getAppointmentHeight: () => (/* binding */ getAppointmentHeight),
/* harmony export */   getAppointmentWidth: () => (/* binding */ getAppointmentWidth),
/* harmony export */   getSlotWidth: () => (/* binding */ getSlotWidth),
/* harmony export */   slotBg: () => (/* binding */ slotBg)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _constants_appointment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants/appointment */ "./src/lib/constants/appointment.js");
/* harmony import */ var _theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./theme */ "./src/lib/utils/theme.js");



var slotBg = function(canDrop, isOver, slotBackground, theme, color) {
    var _ref = slotBackground || {}, dropBg = _ref.dropBg, overBg = _ref.overBg;
    var slotColor = (0,_theme__WEBPACK_IMPORTED_MODULE_1__.slotBackgroundColor)(theme);
    var overColor = (0,_theme__WEBPACK_IMPORTED_MODULE_1__.overBackgroundColor)(theme);
    var dropColor = (0,_theme__WEBPACK_IMPORTED_MODULE_1__.dropBackgroundColor)(theme);
    var backgroundColor = slotColor[color];
    if (canDrop && isOver) {
        backgroundColor = dropBg || dropColor[color]; // Highlight color when canDrop and isOver
    } else if (canDrop) {
        backgroundColor = overBg || overColor[color]; // Color when only canDrop is true
    }
    return backgroundColor;
};
var getSlotWidth = function(slotDuration) {
    switch(slotDuration){
        case 15:
            return _constants_appointment__WEBPACK_IMPORTED_MODULE_2__.WIDTH / 2;
        default:
            return _constants_appointment__WEBPACK_IMPORTED_MODULE_2__.WIDTH;
    }
};
var getAppointmentWidth = function(timeSlot, start, end, duration) {
    var slotStart = moment__WEBPACK_IMPORTED_MODULE_0___default()(timeSlot, "hh:mm a");
    var slotEnd = moment__WEBPACK_IMPORTED_MODULE_0___default()(slotStart).add(duration, "minutes");
    var appointmentStart = moment__WEBPACK_IMPORTED_MODULE_0___default()(start);
    var appointmentEnd = moment__WEBPACK_IMPORTED_MODULE_0___default()(end);
    var totalMinutesInSlot = moment__WEBPACK_IMPORTED_MODULE_0___default().duration(slotEnd.diff(slotStart)).asMinutes();
    var appointmentDuration = moment__WEBPACK_IMPORTED_MODULE_0___default().duration(appointmentEnd.diff(appointmentStart)).asMinutes();
    var width = appointmentDuration / totalMinutesInSlot * getSlotWidth(duration);
    return width + "px";
};
var getAppointmentHeight = function(concurrentCount) {
    var height = _constants_appointment__WEBPACK_IMPORTED_MODULE_2__.HEIGHT;
    var computedHeight = _constants_appointment__WEBPACK_IMPORTED_MODULE_2__.HEIGHT - _constants_appointment__WEBPACK_IMPORTED_MODULE_2__.HEIGHT_REDUCTION_CONCURRENT * concurrentCount;
    height = Math.max(_constants_appointment__WEBPACK_IMPORTED_MODULE_2__.MIN_HEIGHT, computedHeight);
    return height;
};


/***/ }),

/***/ "./src/lib/utils/theme.js":
/*!********************************!*\
  !*** ./src/lib/utils/theme.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   dragBackgroundColor: () => (/* binding */ dragBackgroundColor),
/* harmony export */   dropBackgroundColor: () => (/* binding */ dropBackgroundColor),
/* harmony export */   overBackgroundColor: () => (/* binding */ overBackgroundColor),
/* harmony export */   slotBackgroundColor: () => (/* binding */ slotBackgroundColor)
/* harmony export */ });
var slotBackgroundColor = function(theme) {
    return {
        primary: theme.palette.slotBg.main,
        secondary: theme.palette.slotBg.main
    };
};
var overBackgroundColor = function(theme) {
    return {
        primary: theme.palette.drop.main,
        secondary: theme.palette.drop.mainTwo
    };
};
var dropBackgroundColor = function(theme) {
    return {
        primary: theme.palette.drop.light,
        secondary: theme.palette.drop.lightTwo
    };
};
var dragBackgroundColor = function(theme) {
    return {
        primary: theme.palette.drag.main,
        secondary: theme.palette.drag.main
    };
};


/***/ })

});
//# sourceMappingURL=stories-Scheduler-stories.ab14a4314b47d6ea5759.hot-update.js.map